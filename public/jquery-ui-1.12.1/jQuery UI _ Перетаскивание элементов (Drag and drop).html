<!DOCTYPE html>
<!-- saved from url=(0060)https://professorweb.ru/my/javascript/jquery/level4/4_12.php -->
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface no-generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta name="viewport" content="user-scalable=yes, initial-scale=1.0, minimum-scale=0.5"><meta http-equiv="description" content="Описание интерактивных взаимодействий Draggable и Droppable библиотеки jQuery UI, позволяющих широко настраивать эффект перетаскивания элементов drag-and-drop">

<link rel="stylesheet" href="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/main.css">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="apple-touch-icon" sizes="180x180" href="https://professorweb.ru/my/javascript/jquery/level4/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://professorweb.ru/my/javascript/jquery/level4/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://professorweb.ru/my/javascript/jquery/level4/img/favicon-16x16.png">
<link rel="manifest" href="https://professorweb.ru/my/javascript/jquery/level4/img/site.webmanifest">
<link rel="mask-icon" href="https://professorweb.ru/my/javascript/jquery/level4/img/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#b91d47">
<meta name="theme-color" content="#b8133a">

<link rel="stylesheet" href="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/font-awesome.min.css"><title>jQuery UI | Перетаскивание элементов (Drag and drop)</title>
</head>
<body style="display: block;" class="padding-lock">
<div id="main">
   <div class="top-banner">
        <div class="top-banner__wrapper">
<img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/top_banner.png" alt="">
            <span><a href="https://ad.admitad.com/g/2qcjh71wdk1e80e3e5fe75dd400443/?ulp=https%3A%2F%2Fskillbox.ru%2Fcourse%2Fprofession-c-sharp%2F" target="_blank">
               &nbsp;Набор на курс по C#</a>
            </span>
        </div>
    </div> 
<nav class="navbar main-menu">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
            <a class="navbar-brand" href="https://professorweb.ru/">Professor Web</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/csharp/charp_theory/level1/infocsharp.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">C# 5.0 и .NET 4.5 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/csharp/charp_theory/level1/index.php">Руководство C# - Часть 1</a></li>
                        <li><a href="https://professorweb.ru/my/csharp/charp_theory/level1/index1.php">Руководство C# - Часть 2</a></li>
                        <li><a href="https://professorweb.ru/my/csharp/base_net/level1/net_index.php">Основы .NET</a></li>
                        <li><a href="https://professorweb.ru/my/csharp/assembly/level1/assembly_index.php">Сборки .NET</a></li>
                        <li><a href="https://professorweb.ru/my/csharp/thread_and_files/1/thread_index.php">Потоки и файлы</a></li>
                        <li><a href="https://professorweb.ru/my/csharp/web/level1/web_index.php">Работа с сетью</a></li>
                        <li><a href="https://professorweb.ru/my/csharp/optimization/level1/">Оптимизация приложений</a></li>
                    </ul>
                </li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/WPF/base_WPF/level1/info_WPF.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">WPF <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/WPF/base_WPF/level1/base_WPF_index.php">Основа WPF</a></li>
                        <li><a href="https://professorweb.ru/my/WPF/UI_WPF/level6/UI_WPF_index.php">Элементы управления WPF</a></li>
                        <li><a href="https://professorweb.ru/my/WPF/binding_and_styles_WPF/level8/bas_WPF_index.php">Привязка и стили</a></li>
                        <li><a href="https://professorweb.ru/my/WPF/graphics_and_animation/level12/graph_animation_index.php">Графика и анимация</a></li>
                        <li><a href="https://professorweb.ru/my/WPF/Template/level17/template_index.php">Шаблоны WPF</a></li>
                        <li><a href="https://professorweb.ru/my/WPF/documents_WPF/level28/document_index.php">Периферия WPF</a></li>
                    </ul>
                </li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/WPF/themes/DarkBlue_UI/info_themes.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Темы WPF <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/WPF/themes/DarkBlue_UI/theme_db.php">Dark Blue UI</a></li>
                        <li><a href="https://professorweb.ru/my/WPF/themes/DarkOrange_UI/theme_or.php">Dark Orange UI</a></li>
                    </ul>
                </li>
                <li class=""><a href="https://professorweb.ru/my/Silverlight/base/level1/s_index.php">Silverlight 5</a></li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/ADO_NET/base/level1/info_db.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Работа с БД <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/ADO_NET/base/level1/ado_net_index.php">ADO.NET</a></li>
                        <li><a href="https://professorweb.ru/my/entity-framework/6/level1/">Entity Framework 6</a></li>
                        <li><a href="https://professorweb.ru/my/sql-server/2012/level1/">SQL Server 2012</a></li>
                        <li><a href="https://professorweb.ru/my/sql-server/window-functions/level1/">Оконные функции</a></li>
                    </ul>
                </li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/LINQ/base/level1/info_linq.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">LINQ <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/LINQ/base/level1/linq_index.php">LINQ to Objects</a></li>
                        <li><a href="https://professorweb.ru/my/LINQ/linq_xml/level5/linq_to_xml_index.php">LINQ to XML</a></li>
                        <li><a href="https://professorweb.ru/my/LINQ/linq_sql/level8/linq_to_dataset_and_sql_index.php">LINQ to DataSet и SQL</a></li>
                        <li><a href="https://professorweb.ru/my/LINQ/linq_entities/level14/linq_to_entities_index.php">LINQ to Entities</a></li>
                        <li><a href="https://professorweb.ru/my/LINQ/PLINQ/level16/plinq_index.php">Parallel LINQ</a></li>
                    </ul>
                </li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/ASP_NET/base/level1/aspnet_info.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">ASP.NET <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/ASP_NET/base/level1/base_aspnet_index.php">Основы ASP.NET</a></li>
                        <li><a href="https://professorweb.ru/my/ASP_NET/sites/level1/">Веб-сайты</a></li>
                        <li><a href="https://professorweb.ru/my/ASP_NET/security/level1/">Безопасность</a></li>
                        <li><a href="https://professorweb.ru/my/ASP_NET/gamestore/level1/">Интернет магазин</a></li>
                        <li><a href="https://professorweb.ru/my/ASP_NET/webforms_4_5/level1/">ASP.NET Web Forms 4.5</a></li>
                        <li><a href="https://professorweb.ru/my/ASP_NET/mvc/level1/">ASP.NET MVC 5</a></li>
                        <li><a href="https://professorweb.ru/my/ASP_NET/identity/level1/">Аутентификация</a></li>
                    </ul>
                </li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/windows8/rt/level1/info_w8.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Windows 8/10 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/windows8/rt/level1/">WinRT - основы</a></li>
                        <li><a href="https://professorweb.ru/my/windows8/rt-ext/level1/">WinRT - расширения</a></li>
                    </ul>
                </li>
                <li class="dropdown ">
                    <a href="https://professorweb.ru/my/programs/visual-studio/level1/info_programs.php" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Программы <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://professorweb.ru/my/expression_blend/base/level1/info_eb4.php">Expression Blend 4</a></li>
                        <li><a href="https://professorweb.ru/my/programs/visual-studio/level1/">Visual Studio</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
   <div itemscope="" itemtype="http://data-vocabulary.org/Review-aggregate" id="content">
     <h1 itemprop="itemreviewed">Перетаскивание элементов (Drag and drop)</h1><div id="adv" class="daily-promo-unit daily-promo-unit--mode-link daily-promo-unit--wide" air-module="module.dailyPromoUnits" data-mode="link" data-type="feed" data-id="549" data-booster-type="views">

    <!-- <div class="daily-promo-unit__container layout--a">

        <a class="daily-promo-unit__label" href="https://docs.google.com/forms/d/e/1FAIpQLSfx0eqRpyAg1Tg1biZRXztMQpk0sTOyhInUOKJ-a0rnGlCQlQ/viewform?usp=sf_link" target="_blank">Купить эту строчку</a>

        
            
            <a class="daily-promo-unit__overlay" href="http://bit.ly/2RTfDvn" target="_blank"></a>

            <div class="daily-promo-unit__inner">

                
<img class="andropov_image daily-promo-unit__image" air-module="module.andropov" data-andropov-type="image" data-image-name="" style="background-color: transparent;" src="https://professorweb.ru/img/logo_tik.jpg">
                <div class="daily-promo-unit__info">

                    <div class="daily-promo-unit__title">Телеграм канал про стартапы и маркетинг</div>

                    <div class="daily-promo-unit__description">2812 читателей</div>

                </div>

                <div class="daily-promo-unit__buttons">


                </div>

            </div>

        
    </div> -->
    
    <!-- Yandex.RTB R-A-276027-3 -->
</div>

<meta itemprop="rating" content="5.0"><span class="get_votes" itemprop="votes">182</span>
     <p class="maplink"><a href="https://professorweb.ru/my/html/html5/level1/web_info.php">Веб-программирование</a> --- <a href="https://professorweb.ru/my/javascript/jquery/level1/jquery_index.php">jQuery UI</a> --- Перетаскивание элементов (Drag and drop)</p><p>Помимо виджетов и эффектов, с которыми вы познакомились в предыдущих статьях, библиотека jQuery UI включает набор так называемых <dfn>взаимодействий (interactions)</dfn>. Это низкоуровневые строительные блоки, позволяющие добавлять функциональность в интерфейс веб-приложений. В этой статье описываются взаимодействия Draggable и Droppable, обеспечивающие возможность перемещения элементов с помощью указателя мыши и их вставки в другие места в HTML-документе.</p>
<p>Продемонстрировать с помощью экранных снимков эффекты, создаваемые взаимодействиями, довольно затруднительно. Как следует из самого их названия, они оказывают непосредственное воздействие на поведение элементов. Поэтому некоторые примеры вы можете запустить непосредственно в браузере.</p>
<h2>Создание взаимодействия Draggable</h2>
<p>Элемент, к которому применено взаимодействие Draggable, становится <dfn>перемещаемым (draggable)</dfn>, т.е. его можно перемещать с помощью указателя мыши в пределах окна браузера. При открытии документа такой элемент появляется в макете на своем обычном месте, но после этого пользователь сможет изменить его местоположение путем щелчка на нем мышью и перетаскивания его в другое место. Простой пример этого вида взаимодействия приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>jQuery UI<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/sunny/jquery-ui.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-id">#draggable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> x-large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">5em</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"><span class="hljs-number">10px</span>}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
	$(<span class="hljs-string">'#draggable'</span>).draggable();
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>    
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"draggable"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Перетащи меня
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test15.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере мы выбираем элемент div и делаем его перемещаемым путем вызова для него <strong class="highlight">метода draggable()</strong>. Как показано на рисунке ниже, в открывшемся документе элемент занимает свою обычную позицию, но после этого его можно переместить с помощью указателя мыши в любое место в окне браузера: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46370.jpg" alt="Перемещение элемента в окне браузера с помощью указателя мыши"></div>
<p>Возможность перетаскивания элементов полезна уже сама по себе, но она приносит еще больше пользы, если применяется в сочетании с взаимодействием Droppable, которое описано далее.</p>
<p>Взаимодействие Draggable реализуется исключительно за счет использования специфической HTML-разметки и CSS-стилей. Это означает, что данная функциональность будет работать практически в любом браузере, но наделенные ею элементы не смогут работать с аналогичными собственными средствами Drag-and-drop операционных систем.</p>
<p>Определяемые спецификацией HTML5 операции Drag-and-drop обычно реализуются с использованием собственных механизмов операционных систем. Если вы используете механизм Drag-and-drop jQuery UI, то во избежание возникновения конфликтных ситуаций эквивалентные средства HTML5 лучше отключить. С этой целью установите для атрибута draggable элемента body документа значение false.</p>
<h2>Настройка взаимодействия Draggable</h2>
<p>Существует множество опций настройки для взаимодействия Draggable. Наиболее важные свойства, рассмотрению которых посвящены следующие разделы, приведены в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>Свойства взаимодействия Draggable</caption>
  <tbody><tr>
    <th>Свойство</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><em>axis</em></td>
    <td>Ограничивает возможности перемещения определенными направлениями. Значение по умолчанию — false, оно означает отсутствие ограничений, но можно также указать значение "x" (перемещение только вдоль оси X) или "y" (перемещение только вдоль оси Y)</td>
  </tr><tr>
    <td><em>containment</em></td>
    <td>Ограничивает местоположение перемещаемого элемента определенной областью экрана. Типы поддерживаемых значений описаны в таблице ниже, при рассмотрении соответствующего примера. Значение по умолчанию — false, оно означает отсутствие ограничений</td>
  </tr><tr>
    <td><em>delay</em></td>
    <td>Определяет время, в течение которого должно осуществляться перетаскивание элемента, прежде чем он переместится. Значение по умолчанию — 0, оно означает отсутствие задержки</td>
  </tr><tr>
    <td><em>distance</em></td>
    <td>Определяет расстояние, на которое пользователь должен перетащить элемент из его начальной позиции, прежде чем он действительно переместится. Значение по умолчанию — 1 пиксель</td>
  </tr><tr>
    <td><em>grid</em></td>
    <td>Осуществляет принудительную привязку перемещаемого элемента к ячейкам сетки. Значение по умолчанию — false, оно означает отсутствие привязки</td>
  </tr>
</tbody></table></div>
<h3>Ограничение направлений перемещения</h3>
<p>Существуют несколько способов, с помощью которых можно ограничить перемещение элемента определенными направлениями. Первый из них заключается в использовании опции axis, позволяющей ограничить направление перемещения осью X или Y. Соответствующий пример приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-tag">div</span><span class="hljs-class">.dragElement</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"><span class="hljs-number">16px</span></span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">8em</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">4px</span> }
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'.dragElement'</span>).draggable({
        axis: <span class="hljs-string">"x"</span>
    }).filter(<span class="hljs-string">'#dragV'</span>).draggable(<span class="hljs-string">"option"</span>, <span class="hljs-string">"axis"</span>, <span class="hljs-string">"y"</span>);
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>    
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dragV"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"dragElement ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Перетащить по вертикали
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dragH"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"dragElement ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Перетащить по горизонтали
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>   
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test16.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере мы определяем два элемента div, выбираем их с помощью jQuery и вызываем метод draggable(). В качестве аргумента этому методу передается объект, который первоначально ограничивает перемещение обоих элементов div направлением вдоль оси X. Применив затем метод jQuery filter(), мы получаем возможность выбрать элемент dragV без повторного поиска средствами jQuery по всему документу и установить для него другое разрешенное направление перемещения — вдоль оси Y. Таким образом, мы получаем документ, в котором один элемент div можно перетаскивать только в вертикальном направлении, а другой — только в горизонтальном. Результат представлен на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46371.jpg" alt="Ограничение направлении в которых можно перетаскивать элементы"></div>
<h3>Ограничение допустимой области перемещения элемента</h3>
<p>Можно также ограничить область экрана, в которой допускается перетаскивание элемента. Для этого используется опция containment. Форматы значений, которые можно указывать в этой опции, описаны в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>Типы значений опции containment</caption>
  <tbody><tr>
    <th>Значение</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td>Селектор</td>
    <td>Если указан селектор, перетаскивание перемещаемого элемента ограничивается областью, занимаемой первым подходящим элементом</td>
  </tr><tr>
    <td>HTML-элемент</td>
    <td>Перетаскивание ограничивается областью, занимаемой указанным элементом</td>
  </tr><tr>
    <td>Строка</td>
    <td>Для ограничения области перетаскивания можно указать строку, содержащую одно из следующих значений: parent, document, window</td>
  </tr><tr>
    <td>Числовой массив</td>
    <td>Область перетаскивания можно ограничить, определив ее числовым массивом координат формата [x1, y1, x2, y2]</td>
  </tr>
</tbody></table></div>
<p>Пример использования опции containment приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-tag">div</span><span class="hljs-class">.dragElement</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"><span class="hljs-number">16px</span></span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">8em</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">4px</span> }
		<span class="hljs-hexcolor">#c</span>ontainer { border: medium double black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">700px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">450px</span>}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'.dragElement'</span>).draggable({
        containment: <span class="hljs-string">"parent"</span>
    }).filter(<span class="hljs-string">'#dragH'</span>).draggable(<span class="hljs-string">"option"</span>, <span class="hljs-string">"axis"</span>, <span class="hljs-string">"x"</span>);
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>    
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dragH"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"dragElement ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
            Перетащить по горизонтали
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"dragElement ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
            Перетащить внутри родителя
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test17.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере возможности перемещения обоих элементов ограничены таким образом, что их можно перетаскивать только внутри родительского элемента, в качестве которого выступает элемент div с фиксированными размерами. Для одного из перемещаемых элементов div с помощью опции axis введено дополнительное ограничение, заключающееся в том, что он может перемещаться внутри родительского элемента только в горизонтальном направлении. Результат проиллюстрирован на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46372.jpg" alt="Ограничение области перетаскивания пространством родительского элемента"></div>
<h3>Ограничение возможностей перемещения элемента ячейками сетки</h3>
<p>Опция grid позволяет задать привязку перемещаемого элемента к ячейкам сетки. Эта опция принимает в качестве значения массив из двух элементов, определяющих ширину и высоту ячеек сетки в пикселях. Пример использования опции grid приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-id">#draggable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> x-large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">5em</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"><span class="hljs-number">10px</span>}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
	$(<span class="hljs-string">'#draggable'</span>).draggable({
		grid: [<span class="hljs-number">100</span>,<span class="hljs-number">50</span>]
	});
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>    
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"draggable"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Перетащи меня
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test18.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере задана сетка с ячейками шириной 100 пикселей и высотой 50 пикселей. Когда вы перетаскиваете элемент, он "перескакивается" из одной (невидимой) ячейки в другую. Эффект привязки является весьма показательным примером использования функциональности взаимодействий, однако его трудно передать с помощью экранных снимков.</p>
<p>Можно создать эффект привязки лишь для одного направления, указав для оси свободного перемещения значение 1. Например, если присвоить опции grid значение [100, 1], то элемент будет привязываться к ячейкам сетки шириной 100 пикселей при перемещении по горизонтали, но перемещение по вертикали будет свободным.</p>
<h3>Задержка перемещения</h3>
<p>Существуют две опции, позволяющие организовать задержку при перетаскивании перемещаемого элемента. С помощью опции delay можно задать время в миллисекундах, в течение которого пользователь должен перетаскивать указатель мыши, прежде чем элемент будет действительно перемещен. Другой вид задержки обеспечивается опцией distance, определяющей расстояние в пикселях, на которое пользователь должен перетащить указатель мыши, прежде чем за ним последует элемент.</p>
<p>Пример использования обеих настроек приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-id">#time</span>, <span class="hljs-id">#distance</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">120px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>; }</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'#time'</span>).draggable({
        delay: <span class="hljs-number">1000</span>
    })
    
    $(<span class="hljs-string">'#distance'</span>).draggable({
        distance: <span class="hljs-number">150</span>
    })
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"time"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ui-widget ui-corner-all ui-state-error"</span>&gt;</span>Блок с задержкой времени<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"distance"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ui-widget ui-corner-all ui-state-error"</span>&gt;</span>Блок с минимальным расстоянием<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test19.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере есть два перемещаемых элемента, для одного из которых задержка задана с помощью опции delay, а для другого — с помощью опции distance.</p>
<p>В случае задержки, определяемой опцией delay, пользователь должен выполнять перетаскивание в течение заданного времени, прежде чем это приведет к действительному перемещению элемента. В данном примере длительность этого промежутка составляет 1000 мс. Перемещать мышь в это время вовсе не обязательно, но на протяжении всего периода задержки кнопка мыши должна оставаться в нажатом состоянии, после чего элемент можно будет переместить, сдвинув мышь. По истечении времени задержки перемещаемый элемент привяжется к местоположению указателя мыши с учетом ограничений, налагаемых опциями grid, region и axis, о которых ранее говорилось.</p>
<p>Опция distance оказывает похожее воздействие, но в этом случае пользователь должен перетащить указатель мыши не менее чем на заданное количество пикселей в любом направлении от начального местоположения элемента. После этого перемещаемый элемент скачкообразно переместится к текущему местоположению указателя.</p>
<p>Если применить обе настройки к одному и тому же элементу, то перемещаемый элемент не сдвинется с места до тех пор, пока не будут выполнены оба критерия задержки, т.е. пока попытка перетаскивания элемента не будет длиться в течение заданного времени и пока указатель мыши не переместится на заданное количество пикселей.</p>
<h3>Использование методов взаимодействия Draggable</h3>
<p>Все методы, определенные для взаимодействия Draggable, входят в набор базовых методов, с которыми вы уже познакомились при рассмотрении виджетов. Методы, специфические для взаимодействия Draggable, не предусмотрены, поэтому мы не будем рассматривать их подробно. Перечень доступных методов приведен в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>Методы взаимодействия Draggable</caption>
  <tbody><tr>
    <th>Метод</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><em>draggable("destroy")</em></td>
    <td>Полностью удаляет функциональность взаимодействия Draggable из элемента</td>
  </tr><tr>
    <td><em>draggable("disable")</em></td>
    <td>Временно отключает функциональность взаимодействия Draggable для базового элемента</td>
  </tr><tr>
    <td><em>draggable("enable")</em></td>
    <td>Включает ранее отключенную функциональность взаимодействия Draggable для базового элемента</td>
  </tr><tr>
    <td><em>draggable("option")</em></td>
    <td>Позволяет получить или изменить значение одной или нескольких опций</td>
  </tr>
</tbody></table></div>
<h3>Использование событий взаимодействия Draggable</h3>
<p>Взаимодействие Draggable поддерживает простой набор событий, уведомляющих о перетаскивании элемента. Эти события описаны в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>События взаимодействия Draggable</caption>
  <tbody><tr>
    <th>Событие</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><em>create</em></td>
    <td>Происходит в момент применения взаимодействия Draggable к элементу</td>
  </tr><tr>
    <td><em>start</em></td>
    <td>Происходит в момент начала перетаскивания</td>
  </tr><tr>
    <td><em>drag</em></td>
    <td>Происходит при каждом перемещении мыши в процессе перетаскивания элемента</td>
  </tr><tr>
    <td><em>stop</em></td>
    <td>Происходит в момент отпускания кнопки мыши в процессе перетаскивания</td>
  </tr>
</tbody></table></div>
<p>Как и в случае событий виджетов, на эти события также можно реагировать. Пример обработки событий start и stop приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-id">#draggable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> x-large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">190px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"><span class="hljs-number">10px</span>}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
	$(<span class="hljs-string">'#draggable'</span>).draggable({
        start: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#draggable'</span>).text(<span class="hljs-string">"Перетаскивание..."</span>)
        },
        stop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#draggable'</span>).text(<span class="hljs-string">"Перетащи меня"</span>)
        }
	});
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>    
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"draggable"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Перетащи меня
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test20.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере события start и stop используются для изменения текстового содержимого элемента в процессе перетаскивания. Эта благоприятная возможность является следствием того, что взаимодействие Draggable реализовано исключительно с использованием средств HTML и CSS: можно использовать jQuery для изменения состояния перемещаемого элемента даже в то время, когда он движется по экрану.</p>
<h2>Использование взаимодействия Droppable</h2>
<p>В некоторых ситуациях одной лишь возможности перетаскивания элемента может быть вполне достаточно, но наибольшую пользу оно приносит в тех случаях, когда используется совместно с взаимодействием Droppable.</p>
<p>Элементы, к которым было применено взаимодействие Droppable (<dfn>принимающие элементы</dfn>), приобретают способность принимать перемещаемые элементы, созданные с помощью взаимодействия Draggable.</p>
<p>Принимающие элементы создаются с помощью <strong class="highlight">метода droppable()</strong>, но для получения полезной функциональности потребуется создать обработчики событий из числа тех, которые определены для этого вида взаимодействия. Доступные события приведены в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>События взаимодействия Droppable</caption>
  <tbody><tr>
    <th>Событие</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><em>create</em></td>
    <td>Происходит в момент применения взаимодействия Droppable к элементу</td>
  </tr><tr>
    <td><em>activate</em></td>
    <td>Происходит, когда пользователь начинает перетаскивать перемещаемый элемент</td>
  </tr><tr>
    <td><em>deactivate</em></td>
    <td>Происходит, когда пользователь прекращает перетаскивать перемещаемый элемент</td>
  </tr><tr>
    <td><em>over</em></td>
    <td>Происходит, когда пользователь перетаскивает перемещаемый элемент над принимающим элементом (но при условии, что кнопка мыши еще не была отпущена)</td>
  </tr><tr>
    <td><em>out</em></td>
    <td>Происходит, когда пользователь перетаскивает перемещаемый элемент за пределы принимающего элемента</td>
  </tr><tr>
    <td><em>drop</em></td>
    <td>Происходит, когда пользователь оставляет перемещаемый элемент на принимающем элементе</td>
  </tr>
</tbody></table></div>
<p>Пример создания простого принимающего элемента, для которого определен единственный обработчик события drop, приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-id">#draggable</span>, <span class="hljs-id">#droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>;}</span>
        <span class="hljs-id">#droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> absolute</span></span>; <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;}</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'#draggable'</span>).draggable();
    
    $(<span class="hljs-string">'#droppable'</span>).droppable({
        drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#draggable'</span>).text(<span class="hljs-string">"Оставлено"</span>)
        }
    });
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
        Оставь здесь
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"draggable"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Перетащи меня
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test21.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере в документ добавлен элемент div, текстовое содержимое которого представлено строкой "Оставь здесь". Мы выбираем этот элемент, используя jQuery, и вызываем метод droppable(), передавая ему объект с настройками, который определяет обработчик для события drop. Ответом на это событие является изменение текста перемещаемого элемента с помощью метода text().</p>
<p>Создаваемое в данном примере интерактивное взаимодействие категории Drag-and-drop является простейшим, но оно создает удобный контекст для объяснения возможностей совместной работы взаимодействий Draggable и Droppable. Различные стадии процесса перетаскивания элементов проиллюстрированы на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46373.jpg" alt="Использование простой операции Drag-and-drop"></div>
<p>Все это выглядит очень просто. Мы перетаскиваем перемещаемый элемент до тех пор, пока он не окажется над принимающим элементом, и отпускаем его. Перемещаемый элемент остается там, где он был оставлен, и его текстовое содержимое изменяется в ответ на наступление события drop. В следующих разделах показано, как использовать другие события взаимодействия Droppable для повышения комфортности работы пользователя.</p>
<h3>Подсветка целевого принимающего объекта</h3>
<p>Используя события activate и deactivate, можно подсветить целевой принимающий объект, когда пользователь начинает процесс перетаскивания элемента. Во многих ситуациях эта идея оказывается весьма плодотворной, поскольку при этом пользователь получает надежное указание относительно того, какие элементы являются частью модели Drag-and-drop. Соответствующий пример приведен ниже: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">...
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'#draggable'</span>).draggable();
    
    $(<span class="hljs-string">'#droppable'</span>).droppable({
        drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#draggable'</span>).text(<span class="hljs-string">"Оставлено"</span>)
        },
        activate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css({
                border: <span class="hljs-string">"medium double green"</span>,
                backgroundColor: <span class="hljs-string">"lightGreen"</span>
            });
        },
        deactivate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css(<span class="hljs-string">"border"</span>, <span class="hljs-string">""</span>).css(<span class="hljs-string">"background-color"</span>, <span class="hljs-string">""</span>);
        }
    });
	
});
...

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test22.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>Как только пользователь начинает перетаскивать элемент, срабатывает событие activate - связанное с нашим принимающим элементом, и функция-обработчик использует метод css() для изменения CSS-свойств border и background-color этого элемента. В результате целевой принимающий элемент подсвечивается, указывая пользователю на существование связи между ним и перемещаемым элементом.</p>
<p>Событие deactivate используется для удаления значений CSS-свойств из принимающего элемента и его возврата в исходное состояние, как только пользователь отпускает кнопку мыши. (Это событие происходит всякий раз, когда перетаскивание элемента прекращается, независимо от того, оставлен перемещаемый элемент на принимающем элементе или не оставлен.) Этот процесс проиллюстрирован на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46374.jpg" alt="Использование событий activate и deactivate"></div>
<h3>Обработка перекрывания элементов</h3>
<p>Технологию Drag-and-drop можно усовершенствовать, добавив в нее обработку событий over и out. Событие over происходит, когда 50% перемещаемого элемента оказывается над любой частью принимающего элемента. Событие out наступает тогда, когда перекрывавшиеся ранее элементы перестают перекрываться. Пример ответной реакции на эти события приведен ниже: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'#draggable'</span>).draggable();
    
    $(<span class="hljs-string">'#droppable'</span>).droppable({
        drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#draggable'</span>).text(<span class="hljs-string">"Оставлено"</span>)
        },
        activate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css({
                border: <span class="hljs-string">"medium double green"</span>,
                backgroundColor: <span class="hljs-string">"lightGreen"</span>
            });
        },
        deactivate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css(<span class="hljs-string">"border"</span>, <span class="hljs-string">""</span>).css(<span class="hljs-string">"background-color"</span>, <span class="hljs-string">""</span>);
        },
        over: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css({
                border: <span class="hljs-string">"medium double red"</span>,
                backgroundColor: <span class="hljs-string">"red"</span>
            });
        },
        out: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css(<span class="hljs-string">"border"</span>, <span class="hljs-string">""</span>).css(<span class="hljs-string">"background-color"</span>, <span class="hljs-string">""</span>);
        }
    });
	
});

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test23.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>Здесь использованы те же функции-обработчики, что и в предыдущем примере, но в данном случае они связаны с событиями over и out. Когда с принимающим элементом перекрывается по крайней мере 50% перемещаемого элемента, он заключается в рамку и цвет его фона изменяется, как показано на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46375.jpg" alt="Реагирование на события over и out"></div>
<p>Указанный 50%-ный предел называется <dfn>порогом перекрывания (tolerance)</dfn>, величину которого можно задавать при создании принимающего элемента, как будет показано далее.</p>
<h2>Настройка взаимодействия Droppable</h2>
<p>Для взаимодействия Droppable предусмотрен ряд свойств, путем изменения которых можно настроить его поведение. Эти свойства перечислены в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>Свойства взаимодействия Droppable</caption>
  <tbody><tr>
    <th>Свойство</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><em>disabled</em></td>
    <td>Если эта опция равна true, то функциональность взаимодействия Droppable первоначально отключена. Значение по умолчанию — false</td>
  </tr><tr>
    <td><em>accept</em></td>
    <td>Сужает множество перемещаемых элементов, на которые будет реагировать принимающий элемент. Значение по умолчанию — *, ему соответствует любой элемент</td>
  </tr><tr>
    <td><em>activeClass</em></td>
    <td>Определяет класс, который будет присваиваться в ответ на событие activate и удаляться в ответ на событие deactivate</td>
  </tr><tr>
    <td><em>hoverClass</em></td>
    <td>Определяет класс, который будет присваиваться в ответ на событие over и удаляться в ответ на событие out</td>
  </tr><tr>
    <td><em>tolerance</em></td>
    <td>Определяет минимальную степень перекрывания, при которой происходит событие over</td>
  </tr>
</tbody></table></div>
<h3>Ограничение допустимых перемещаемых элементов</h3>
<p>Можно ограничить множество перемещаемых элементов, которые будут приниматься элементом, наделенным функциональностью взаимодействия Droppable, с помощью опции accept. В качестве значения опции accept следует присвоить селектор. В результате этого события взаимодействия Droppable будут происходить лишь в том случае, если перемещаемый элемент соответствует указанному селектору. Соответствующий пример приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-class">.draggable</span>, <span class="hljs-id">#droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>;}</span>
        <span class="hljs-id">#droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">20px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> absolute</span></span>; <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;}</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'.draggable'</span>).draggable();
    
    $(<span class="hljs-string">'#droppable'</span>).droppable({
        drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
            ui.draggable.text(<span class="hljs-string">"Оставлено"</span>)
        },
        activate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css({
                border: <span class="hljs-string">"medium double green"</span>,
                backgroundColor: <span class="hljs-string">"lightGreen"</span>
            });
        },
        deactivate : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            $(<span class="hljs-string">'#droppable'</span>).css(<span class="hljs-string">"border"</span>, <span class="hljs-string">""</span>).css(<span class="hljs-string">"background-color"</span>, <span class="hljs-string">""</span>);
        },
        accept: <span class="hljs-string">'#drag1'</span>
    });
	
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
        Оставь здесь
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"drag1"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Элемент 1
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"drag2"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        Элемент 2
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test24.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>В этом примере есть два перемещаемых элемента с идентификаторами drag1 и drag2. При создании принимающего элемента используется опция accept, с помощью которой мы указываем, что приемлемым перемещаемым элементом будет только элемент drag1.</p>
<p>При перетаскивании элемента drag1 вы будете наблюдать тот же эффект, что и в предыдущих примерах. В соответствующие моменты для принимающего элемента будут запускаться события activate, deactivate, over и out. В то же время, если перетаскивать элемент drag2, который не соответствует указанному в параметре accept селектору, то эти события запускаться не будут. Этот элемент можно свободно перемещать, но он не будет восприниматься принимающим элементом.</p>
<p>Обратите внимание на изменение способа выбора приемлемого перемещаемого элемента, для которого следует вызывать метод text(). Когда в документе был всего лишь один перемещаемый элемент, для этого хватало атрибута id: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
       $(<span class="hljs-string">'#draggable'</span>).text(<span class="hljs-string">"Оставлено"</span>)
},</code></pre>
</div>
<p>В данном примере имеется два перемещаемых элемента, и выбор по атрибуту id не даст желаемого результата, поскольку текст в этом случае будет всегда изменяться в одном и том же перемещаемом элементе, независимо от того, какой из них является приемлемым для принимающего элемента.</p>
<p>Выход состоит в том, чтобы использовать объект ui, который jQuery UI предоставляет в качестве дополнительного аргумента каждому обработчику событий. Свойство draggable объекта ui возвращает объект jQuery, содержащий элемент, который пользователь перетаскивает или пытается оставить на целевом элементе, что позволяет выбрать требуемый элемент следующим образом: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
      ui.draggable.text(<span class="hljs-string">"Оставлено"</span>)
},</code></pre>
</div>
<h3>Изменение порога перекрывания</h3>
<p>По умолчанию событие over происходит лишь в тех случаях, когда по крайней мере 50% перемещаемого элемента перекрывается с принимающим элементом. Величину этого порогового перекрывания можно изменить с помощью опции tolerance, которая может принимать значения, указанные в таблице ниже: </p>
<div class="table_wrapper"><table class="new_table" border="2" cellpadding="15">
  <caption>Допустимые значения опции tolerance</caption>
  <tbody><tr>
    <th>Значение</th>
    <th>Описание</th>
  </tr>
  <tr>
    <td><em>fit</em></td>
    <td>Перетаскиваемый элемент должен полностью находиться в области принимающего элемента</td>
  </tr><tr>
    <td><em>intersect</em></td>
    <td>Перетаскиваемый элемент должен перекрываться с принимающим элементом по крайней мере наполовину. Это значение используется по умолчанию</td>
  </tr><tr>
    <td><em>pointer</em></td>
    <td>Указатель мыши должен находиться в области принимающего элемента, независимо от того, где именно перетаскиваемый элемент был захвачен пользователем</td>
  </tr><tr>
    <td><em>touch</em></td>
    <td>Означает любую степень перекрывания перетаскиваемого и принимающего элементов</td>
  </tr>
</tbody></table></div>
<p>Чаще всего я использую два значения, fit и touch, поскольку их смысл наиболее понятен для пользователей. Значение fit используется мною в тех случаях, когда перетаскиваемый элемент должен остаться в той области принимающего элемента, в которую он был перемещен, а значение touch — когда перемещенный элемент должен вернуться в исходную позицию (соответствующий пример будет приведен далее). Пример использования параметров fit и touch приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="valuecode flexcroll">
	<div id="intocode">
<pre><code class="hljs xml"><a href="https://professorweb.ru/my/javascript/jquery/level4/files/test25.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a>

<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>jQuery UI<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/sunny/jquery-ui.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-class">.draggable</span>, <span class="hljs-class">.droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> thin solid black</span></span>; <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>; <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>;}</span>
        <span class="hljs-class">.droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">60px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">120px</span>}
        <span class="hljs-hexcolor">#d</span>ropContainer {position: absolute</span></span>; <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;}</span>
        <span class="hljs-tag">div</span> <span class="hljs-tag">span</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> relative</span></span>; <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">25%</span>}
        .droppable.active {border: thick solid green}
        .droppable.hover {background-color: lightgreen}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'.draggable'</span>).draggable();
    
    $(<span class="hljs-string">'.droppable'</span>).droppable({
        drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
            ui.draggable.text(<span class="hljs-string">"Оставлено"</span>)
        },
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>,
        tolerance: <span class="hljs-string">"fit"</span>
    });
	
	$(<span class="hljs-string">'#touchDrop'</span>).droppable(<span class="hljs-string">"option"</span>, <span class="hljs-string">"tolerance"</span>, <span class="hljs-string">"touch"</span>);
});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dropContainer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"fitDrop"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Fit<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"touchDrop"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Touch<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>        
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-widget ui-corner-all ui-state-error"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Перетащи меня<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>
    </div>
</div>
<p>Сначала обратите внимание на то, что в этом примере я использовал подсветку принимающего элемента с использованием классов. В этом примере определены два новых CSS-стиля. Создав классы, мы получили возможность различать элементы с одинаковыми атрибутами id (например, .droppable.active), так что новые стили более специфичны по сравнению с другими стилями (например, #droppable) и потому имеют более высокий приоритет. Определив новые стили, мы используем имена соответствующих классов в качестве значений опций activeClass и hoverClass. Всю работу по добавлению и удалению этих классов из принимающего элемента в ответ на наступление соответствующих событий выполняет взаимодействие Droppable.</p>
<p>В этом примере есть два принимающих элемента, один из которых сконфигурирован с использованием значения fit для параметра tolerance, а второй — с использованием значения touch. Перемещаемый элемент только один и используется для демонстрации эффектов перетаскивания с двумя различными значениями опции tolerance. Снимки делались в момент наступления события over. Заметим, что при определении момента перекрывания граница учитывается в обоих случаях: </p> 
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46376.jpg" alt="Использование значений fit и touch параметра tolerance"></div>
<p>Возможно, вас удивляет, каким образом я сумел сделать экранные снимки точно в тот момент, когда происходило событие over. Для этого я использовал в своем элементе script ключевое слово JavaScript <strong class="highlight">debugger</strong>. Хотя в официальной спецификации языка это и не оговорено, в таких браузерах, как Google Chrome и Firefox (с установленным расширением FireBug), предусмотрены отладчики, которые приостанавливают выполнение сценария, как только в нем встречается ключевое слово debugger (так называемые точки останова).</p>
<p>Для работы с отладчиком в сценарий добавлен обработчик события over, как показано ниже: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">...
$(<span class="hljs-string">'.droppable'</span>).droppable({
        drop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
            ui.draggable.text(<span class="hljs-string">"Оставлено"</span>)
        },
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>,
        tolerance: <span class="hljs-string">"fit"</span>,
        <b>over: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">debugger</span>
        }</b>
});</code></pre>
</div>
<p>Когда происходит событие over, отладчик генерирует прерывание, и дальнейшее выполнение сценария становится возможным лишь после того, как отладчик получит соответствующее указание. Это позволило мне делать экранные снимки, которые вы видите на рисунках, именно в тот момент, когда происходило событие. Как правило, ключевое слово debugger выручает во многих ситуациях, но оно становится просто незаменимым при работе с событиями. Разумеется, прежде чем предоставлять программу пользователям, все вхождения этого ключевого слова должны быть удалены из сценария.</p>
<h2>Дополнительная настройка операций перетаскивания</h2>
<p>Имеется ряд дополнительных параметров, с помощью которых можно выполнить точную настройку функциональности Draggable и Droppable jQuery UI. В данном разделе приводятся описания этих настроек и примеры их использования.</p>
<h3>Использование опции Scope</h3>
<p>Ранее было продемонстрировано, как использовать опцию accept для выбора перемещаемых элементов, которые могут захватываться принимающими элементами. В простых проектах селекторы работают вполне удовлетворительно, но с увеличением количества перемещаемых элементов, которыми приходится управлять, необходимые селекторы значительно усложняются, что повышает риск появления ошибок.</p>
<p>Альтернативный подход заключается в использовании <strong class="highlight">опции scope</strong> как для перемещаемых, так и для принимающих элементов. Перемещаемый элемент будет активизировать лишь те принимающие элементы, которые имеют одинаковое с ним значение свойства scope. Пример использования этой опции приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="valuecode flexcroll">
	<div id="intocode">
<pre><code class="hljs xml"><a href="https://professorweb.ru/my/javascript/jquery/level4/files/test26.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a>

<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>jQuery UI<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/sunny/jquery-ui.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-class">.draggable</span>, <span class="hljs-class">.droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> medium solid black</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">100px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;}</span>
        <span class="hljs-class">.droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">50px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">120px</span>}
        <span class="hljs-hexcolor">#d</span>ropContainer {position: absolute</span></span>; <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;}</span>
        <span class="hljs-tag">div</span> <span class="hljs-tag">span</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> relative</span></span>; <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">25%</span>}
        .droppable.active {border: medium solid green}
        .droppable.hover {background-color: lightgreen}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'#apple'</span>).draggable({
        scope: <span class="hljs-string">"fruit"</span>
    });
    $(<span class="hljs-string">'#orchid'</span>).draggable({
        scope: <span class="hljs-string">"flower"</span>
    });        
    
    $(<span class="hljs-string">'#flowerDrop'</span>).droppable({
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>,
        scope: <span class="hljs-string">"flower"</span>
    });
    
    $(<span class="hljs-string">'#fruitDrop'</span>).droppable({
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>,
        scope: <span class="hljs-string">"fruit"</span>
    });  

});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dropContainer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"flowerDrop"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Цветы<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"fruitDrop"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Фрукты<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>        
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"orchid"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-state-error"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Орхидея<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"apple"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-state-error"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Яблоко<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>     
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>
    </div>
</div>
<p>В этом примере создаются два перемещаемых и два принимающих элемента. При создании им назначается одно из двух значений свойства scope: fruit или flower. Конечный результат состоит в том, что каждый из перемещаемых элементов будет активизировать лишь те принимающие элементы и являться приемлемым лишь для тех из них, которые имеют то же значение свойства scope, как показано на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46377.jpg" alt="Группировка перемещаемых и принимающих элементов по значению свойства scope"></div>
<h3>Использование вспомогательного элемента</h3>
<p>С помощью <strong class="highlight">опции helper</strong> можно определить вспомогательный элемент, который будет перетаскиваться вместо исходного элемента, остающегося на месте. Это разительно отличается от предыдущих примеров, в которых перемещаемый элемент покидал свою позицию. Пример использования вспомогательного элемента приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="shortcode">
   <pre><code class="hljs xml"><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
...
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'div.draggable'</span>).draggable({
        helper: <span class="hljs-string">"clone"</span>
    });        
    
    $(<span class="hljs-string">'#basket'</span>).droppable({
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>
    });

});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dropContainer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"basket"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Корзина<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-state-error"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://professorweb.ru/downloads/jquery/lily.png"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">label</span> <span class="hljs-attribute">for</span>=<span class="hljs-value">"lily"</span>&gt;</span>Лилия<span class="hljs-tag">&lt;/<span class="hljs-title">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>   
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test27.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>Значение clone указывает jQuery UI на то, что необходимо создать копию перемещаемого элемента вместе со всем его содержимым и использовать полученный результат в качестве вспомогательного элемента. Результат представлен на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46378.jpg" alt="Перемещаемый элемент с большими размерами"></div>
<p>Вспомогательный элемент удаляется, когда пользователь отпускает кнопку мыши над перемещаемым элементом, оставляя перемещаемый и принимающий элементы в их исходных позициях.</p>
<p>Как показано на рисунке, исходный перемещаемый элемент остается на своем месте и лишь вспомогательный элемент перемещается по экрану вслед за указателем мыши. Если размеры перемещаемого элемента велики, как в нашем примере, то он закрывает собой остальные элементы документа, так что даже отследить позицию принимающего элемента пользователю будет трудно. С этой проблемой можно справиться, предоставив функцию в качестве значения опции helper, как показано в примере ниже: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">...
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'div.draggable'</span>).draggable({
        helper: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">return</span> $(<span class="hljs-string">'&lt;img src="http://professorweb.ru/downloads/jquery/lily.png"/&gt;'</span>)
		}
    });        
    
    $(<span class="hljs-string">'#basket'</span>).droppable({
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>
    });

});
...

<a href="https://professorweb.ru/my/javascript/jquery/level4/files/test28.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a></code></pre>
</div>
<p>Когда пользователь начинает перетаскивать элемент, jQuery UI вызывает функцию, заданную параметром helper, и использует возвращаемый элемент в качестве перемещаемого объекта. В данном случае я использую jQuery для создания элемента img. Результат представлен на рисунке: </p>
<div class="ads-wrapper">
    <div class="ad1">
<!-- professor-in-the-middle -->
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-5819559848186638" data-ad-slot="5818840068"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
    <div class="ad2">
<!-- professor-in-the-middle -->
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-5819559848186638" data-ad-slot="5818840068"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
</div>    

<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46379.jpg" alt="Использование опции helper"></div>
<p>Небольшое изображение играет роль заместителя перемещаемого элемента, что значительно упрощает отслеживание других элементов документа.</p>
<p>Объект ui, который jQuery UI передает событиям взаимодействия Droppable, содержит свойство helper, и это свойство можно использовать для манипуляций вспомогательным элементом в процессе его перетаскивания. Пример использования этого свойства в связке с событиями over и out приведен ниже: </p>
<div class="titlecode jscode"></div>
<div class="shortcode">
   <pre><code class="javascript hljs">...
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'div.draggable'</span>).draggable({
        helper: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">return</span> $(<span class="hljs-string">'&lt;img src="http://professorweb.ru/downloads/jquery/lily.png"/&gt;'</span>)
		}
    });        
    
    $(<span class="hljs-string">'#basket'</span>).droppable({
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>,
        over: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
            ui.helper.css(<span class="hljs-string">"border"</span>, <span class="hljs-string">"thick solid #27e6ed"</span>)
        },
        out: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
            ui.helper.css(<span class="hljs-string">"border"</span>, <span class="hljs-string">""</span>)
        }
    });

});
...</code></pre>
</div>
<p>Здесь события over и out, а также свойство ui.helper используются для отображения рамки вокруг вспомогательного элемента, когда он перекрывает принимающий элемент. Результат представлен на рисунке: </p>
<div class="imgcontent"><img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/img46380.jpg" alt="Манипуляции вспомогательным элементом"></div>
<h3>Привязка к краям элементов</h3>
<p>С помощью <strong class="highlight">опции snap</strong> можно добиться того, чтобы перемещаемый элемент как бы "притягивался" к краям элементов, рядом с которыми он проходит. В качестве значения эта опция принимает селектор. Перемещаемый элемент будет привязываться к краям любого элемента, соответствующего указанному селектору. Пример использования опции snap приведен ниже: </p>
<div class="titlecode htmlcode"></div>
<div class="valuecode flexcroll">
	<div id="intocode">
<pre><code class="hljs xml"><a href="https://professorweb.ru/my/javascript/jquery/level4/files/test29.html" rel="no-follow" target="_blank" class="js_sample">Запустить пример</a>

<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>jQuery UI<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/sunny/jquery-ui.css"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css">
        <span class="hljs-id">#snapper</span>, <span class="hljs-class">.draggable</span>, <span class="hljs-class">.droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">font-size</span>:<span class="hljs-value"> large</span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> medium solid black</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">4px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">150px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">text-align</span>:<span class="hljs-value"> center</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> lightgray</span></span>; <span class="hljs-rule"><span class="hljs-attribute">margin-bottom</span>:<span class="hljs-value"> <span class="hljs-number">10px</span></span></span>;}</span>
        <span class="hljs-class">.droppable</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">margin-right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">50px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">120px</span>}
        <span class="hljs-hexcolor">#d</span>ropContainer {position: absolute</span></span>; <span class="hljs-rule"><span class="hljs-attribute">right</span>:<span class="hljs-value"> <span class="hljs-number">5px</span></span></span>;}</span>
        <span class="hljs-tag">div</span> <span class="hljs-tag">span</span> <span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">position</span>:<span class="hljs-value"> relative</span></span>; <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">25%</span>}
        .droppable.active {border: medium solid green}
        .droppable.hover {background-color: lightgreen}
        #snapper {position: absolute</span></span>; <span class="hljs-rule"><span class="hljs-attribute">left</span>:<span class="hljs-value"> <span class="hljs-number">35%</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">border</span>:<span class="hljs-value"> medium solid black</span></span>;
            <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">180px</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">50px</span>}
    </span></span></span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	
    $(<span class="hljs-string">'div.draggable'</span>).draggable({
        snap: <span class="hljs-string">"#snapper, .droppable"</span>,
        snapMode: <span class="hljs-string">"both"</span>,
        snapTolerance: <span class="hljs-number">50</span>
    });        
    
    $(<span class="hljs-string">'#basket'</span>).droppable({
        activeClass: <span class="hljs-string">"active"</span>,
        hoverClass: <span class="hljs-string">"hover"</span>
    });   

});
    </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"dropContainer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"basket"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"droppable"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Корзина<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"snapper"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Привяжись здесь<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"draggable ui-state-error"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">span</span>&gt;</span>Перетащи меня<span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre>
    </div>
</div>
<p>Когда перемещаемый элемент приближается к одному из подходящих элементов, он как бы "притягивается" к нему таким образом, что их соседние края соприкасаются. Для такой привязки можно выбрать любой элемент, а не только принимающий. В этом примере я добавил элемент div и определил для опции snap значение, которое выбирает в документе данный элемент, а также принимающий элемент.</p>
<p>Существует пара вспомогательных опций, позволяющих более точно настроить поведение элементов в отношении привязки. Одна из них — это <strong class="highlight">опция snapMode</strong>. С ее помощью можно указать тип привязки. Допускаются следующие значения: <em>inner</em> (привязка к внутренним краям элементов), <em>outer</em> (привязка к внешним краям элементов) и <em>both</em> (привязка ко всем краям; используется по умолчанию).</p>
<p><strong class="highlight">Опция snapTolerance</strong> позволяет указать, на какое расстояние должен приблизиться перемещаемый элемент к краю элемента-мишени, прежде чем произойдет привязка. Значение по умолчанию — 20, что означает 20 пикселей. В примере используется значение 50, которому соответствует привязка на большем расстоянии. Очень важно правильно выбрать значение этой опции. Если значение опции snapTolerance слишком мало, то пользователь может не заметить эффекта привязки, а если оно слишком велико, то перемещаемый элемент начнет совершать неожиданные скачки, привязываясь к далеко расположенным элементам.</p>
     <div style="margin:30px auto;">
<div id="staya_jobs_container"> </div>

</div>


<!--bottom-->


<!-- Yandex.RTB R-A-276027-2 -->
</div>
</div>

<!--[if lte IE 8]>

<meta http-equiv="refresh" content="0; url="../../../../404/ie.html" />

<script type="text/javascript">

/* <![CDATA[ */

window.top.location = '../../../../404/ie.html';

/* ]]> */

</script>

<![endif]-->
     <!-- verify-advertiseru: "1cb76dec6c" -->



 <div class="bottom-banner">
      <div class="bottom-banner__wrapper">
<img src="./jQuery UI _ Перетаскивание элементов (Drag and drop)_files/bottom_banner.png" alt="">
            <span> <a target="_blank" href="https://t.me/professorweb">
              Лучший чат для C# программистов</a>
            </span>
        </div>
    </div>
<footer class="main-footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-2 col-sm-3">
                <div class="logo-wrap">
                    <a href="https://professorweb.ru/" class="logo">
                        Professor Web
                    </a>
                </div>
            </div>
            <div class="col-lg-10 col-sm-9">
                <ul class="unstyled">
                    <li>
                        <a href="https://professorweb.ru/">Наш любимый хостинг</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<a href="https://professorweb.ru/my/javascript/jquery/level4/4_12.php#" class="back-to-top">
    <i class="fa fa-arrow-up"></i>
</a>


<!--[if lt IE 9]>
    <script src="/../js/html5shiv/es5-shim.min.js"></script>
    <script src="/../js/html5shiv/html5shiv.min.js"></script>
    <script src="/../js/html5shiv/html5shiv-printshiv.min.js"></script>
    <script src="/../js/respond/respond.min.js"></script>
    <![endif]-->   
</body></html>
